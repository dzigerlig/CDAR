<script src="app/js/myJsTree.js"></script>
<script src="app/js/myDragDrop.js"></script>
<script src="vendor/js/jquery-sortable.js"></script>
<div id="wrapper">
	<div ng-include src="'templates/navigation.html'"></div>

	<div id="page-content-wrapper">
		<div class="row">
			<div class="content-header inset">
				<div class="col-md-9">
					<h3>
						<a id="menu-toggle" class="btn btn-default"><i class="icon-reorder"></i></a>
						Collaborative Decision Management and Architectural Refactoring (CDAR) Tool
					</h3>
					<h3>
						<a id="menu-toggle" class="btn btn-default"><i
							class="icon-reorder"></i></a> Knowledge Tree: <a href="#"
							editable-text="knowledgetree.title"
							onbeforesave="saveKnowledgeTreeTitle($data)">{{knowledgetree.title}}</a>
					</h3>
				</div>
				<div ng-include src="'templates/heading.html'"></div>
			</div>
		</div>
		<div class="row page-content inset">
			<div class="col-md-2">
				<a href="#/knowledgetree/{{knowledgetree.id}}/templates"
					class="btn btn-md btn-success btn-block">Manage Templates</a>
			</div>
			<div class="col-md-2">
				<a href="#/knowledgetree/{{knowledgetree.id}}/importexport"
					class="btn btn-md btn-success btn-block">Import/Export</a>
			</div>
			<div class="col-md-2">
				<a href="#/knowledgetree/{{knowledgetree.id}}/users"
					class="btn btn-md btn-success btn-block">User Access</a>
			</div>
		</div>

	</div>
	<div class="page-content inset">
		<div class="row">
			<div class="col-md-4" id="jstree-container">
				<button type="button" class="btn btn-success btn-sm"
					onclick="myJsTree.createDirectory();">
					<i class="glyphicon glyphicon-asterisk"></i> Create Folder
				</button>
				<button type="button" class="btn btn-success btn-sm"
					onclick="myJsTree.createNode();">
					<i class="glyphicon glyphicon-asterisk"></i> Create
					{{DescriptionService.getNodeDescription()}}
				</button>
				<button type="button" class="btn btn-warning btn-sm"
					onclick="myJsTree.rename();">
					<i class="glyphicon glyphicon-pencil"></i> Rename
				</button>
				<button type="button" class="btn btn-danger btn-sm"
					onclick="myJsTree.delete();">
					<i class="glyphicon glyphicon-remove"></i> Delete
				</button>
				<input type="text" value=""
					style="box-shadow: inset 0 0 4px #eee; width: 120px; margin: 0; padding: 6px 12px; border-radius: 4px; border: 1px solid silver; font-size: 1.1em;"
					id="plugins4_q" placeholder="Search" />
				<div id="jstree"></div>
			</div>

			<div class="col-md-8">

				<p align="right">
					<button type="button" class="btn btn-success btn-sm" onclick="myJsPlumb.drillDownButton()">
						<img class="drillTree" src="../cdarclient/app/img/treedown.png">Drill down
					</button>
					<button type="button" class="btn btn-success btn-sm" onclick="myJsPlumb.drillUpButton()">
						<img class="drillTree" src="../cdarclient/app/img/treeup.png">Drill up
					</button>
					
					<button type="button" class="btn btn-danger btn-sm"
						onclick="myJsPlumb.removeSelected();">
						<i class="glyphicon glyphicon-remove"></i> Remove selected from
						Diagram
					</button>
				</p>
				<div id="jsplumb-container"></div>

				<textarea id="dot-src" style="display: none;"> </textarea>
			</div>
		</div>
		<div class="row">
			<div ng-include src="'templates/selectedEntry.html'"></div>
		</div>
	</div>
</div>

<script>
		$("#menu-toggle").click(function(e) {
			e.preventDefault();
			$("#wrapper").toggleClass("active");
		});
	</script>
